webpackJsonp([1],{"+QWM":function(t,e,a){"use strict";var n=a("/vxJ");e.a={name:"nodeInfo",props:["datum","people","neighbors","viewType","disqusname","disqusApiKey","showComments"],data:function(){return{peopleMapping:{task:"workers",project:"managers"},assigned:{workers:[],managers:[],dependencies:[]},noRemoveInfo:!1}},watch:{datum:{handler:function(){this.noRemoveInfo=!1,this.updatePeople(),this.updateDependencies()}}},mounted:function(){this.updatePeople(),this.updateDependencies()},methods:{updatePeople:function(){var t=this,e=this.peopleMapping[this.datum.data.type];this.datum&&this.datum.data[e]&&this.people[e]?this.assigned[e]=this.people[e].filter(function(a){return t.datum.data[e].indexOf(a.id)>-1}):this.assigned[e]=[]},commentsClick:function(t){this.$emit("comments-click",t)},updateDependencies:function(){var t=this;this.datum&&this.datum.data.dependencies&&this.neighbors?this.assigned.dependencies=this.neighbors.filter(function(e){return t.datum.data.dependencies.indexOf(e.id)>-1}):this.assigned.dependencies=[]},edit:function(){this.$emit("edit-click")},remove:function(){this.$emit("remove-click")}},components:{vueDisqusCount:n.a}}},"/vxJ":function(t,e,a){"use strict";function n(t){a("dvhD")}var i=a("x1TA"),s=a("c/mz"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-2e43aeaa",null);e.a=d.exports},"01sb":function(t,e){},"0fZ4":function(t,e){},"0mW4":function(t,e){},"1iJ1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"rpm-diagram"})},i=[],s={render:n,staticRenderFns:i};e.a=s},"2zlQ":function(t,e){},"6BZM":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rpm-main"},[a("div",{staticClass:"rpm-main"},[a("div",{staticClass:"row"},[a("header",{staticClass:"cell header-cell"},[a("main-header",{attrs:{d:t.headerData,"view-type":t.viewType,"search-string":t.searchString},on:{"add-item":t.addItem,search:t.search}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"body cell",class:{comments:t.showComments}},[a("rpm-diagram",{attrs:{"nodes-data":t.rpmData.nodes,search:t.searchString,"show-proposed":t.showProposed,"show-completed":t.showCompleted,"view-type":t.viewType},on:{added:t.applyDatum,removed:t.applyDatum,draw:t.applyDatum,select:t.applyDatum,changedParental:t.applyParentalDatum}}),t._v(" "),a("div",{staticClass:"diagram-options"},[a("label",{staticClass:"proposed-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.showProposed,expression:"showProposed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showProposed)?t._i(t.showProposed,null)>-1:t.showProposed},on:{change:function(e){var a=t.showProposed,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.showProposed=a.concat([null])):s>-1&&(t.showProposed=a.slice(0,s).concat(a.slice(s+1)))}else t.showProposed=i}}}),t._v(" "),a("span",[t._v("Show Proposed")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[!t.showProposed||t.parentalDatum.proposedChildren&&t.parentalDatum.proposedChildren.length?t._e():a("span",{staticClass:"faded-text"},[t._v("(none)")])])],1),a("br"),t._v(" "),a("label",{staticClass:"completed-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.showCompleted,expression:"showCompleted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showCompleted)?t._i(t.showCompleted,null)>-1:t.showCompleted},on:{change:function(e){var a=t.showCompleted,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.showCompleted=a.concat([null])):s>-1&&(t.showCompleted=a.slice(0,s).concat(a.slice(s+1)))}else t.showCompleted=i}}}),t._v(" "),a("span",[t._v("Show Completed")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[!t.showCompleted||t.parentalDatum.completedChildren&&t.parentalDatum.completedChildren.length?t._e():a("span",{staticClass:"faded-text"},[t._v("(none)")])])],1)]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.searchString?t._e():a("div",{staticClass:"sidebar"},[a("transition",{attrs:{name:"slide-h"}},[t.datum.empty||t.datum.data.draft||!t.datum.data.name?t._e():a("node-info",{attrs:{datum:t.datum,people:t.rpmData.people,neighbors:t.datum.parent?t.datum.parent.data.children:[],"show-comments":t.showComments,"view-type":t.viewType,disqusname:t.disqusName,"disqus-api-key":t.disqusApiKey},on:{"comments-click":t.commentsHandler,"edit-click":t.editNode,"remove-click":t.removeNode}}),t._v(" "),t.datum.data.draft?a("new-item",{attrs:{datum:t.datum.data.draft,people:t.rpmData.people,neighbors:t.datum.parent?t.datum.parent.data.children:[]},on:{save:t.save,remove:t.removeNode,cancel:t.cancelEdit,completeChanged:t.completeChanged}}):t._e()],1),t._v(" "),a("div",{staticClass:"comments-wrapper"},[a("transition",{attrs:{name:"fade-long"}},[t.showComments?a("vue-comments",{attrs:{shortname:t.disqusName,identifier:t.datum.id,"api-key":t.disqusApiKey,"view-type":t.viewType}}):t._e()],1)],1)],1)]),t._v(" "),a("div",{staticClass:"view-type"},[a("h3",[t._v("Select User Role (For Demo)")]),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.viewType,expression:"viewType"}],attrs:{type:"radio",name:"view-type",value:"owner"},domProps:{checked:t._q(t.viewType,"owner")},on:{change:function(e){t.viewType="owner"}}}),t._v(" Project Owner")]),a("br"),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.viewType,expression:"viewType"}],attrs:{type:"radio",name:"view-type",value:"voter"},domProps:{checked:t._q(t.viewType,"voter")},on:{change:function(e){t.viewType="voter"}}}),t._v(" Voter")])])],1)])])])},i=[],s={render:n,staticRenderFns:i};e.a=s},"7xfZ":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comments"},[a("div",[a("div",{staticClass:"comments-header"},[a("div",{staticClass:"comments-tabs",class:{right:"voter"===t.activeTab}},[a("div",{class:{active:"team"===t.activeTab},on:{click:function(e){t.activeTab="team"}}},[a("span",{staticClass:"point"}),t._v(" "),a("span",[t._v("Team Comments")])]),t._v(" "),a("div",{class:{active:"voter"===t.activeTab},on:{click:function(e){t.activeTab="voter"}}},[a("span",{staticClass:"point"}),t._v(" "),a("span",[t._v("Voter Comments")])])])])]),t._v(" "),a("div",[a("div",{staticClass:"comments-body"},[a("transition",{attrs:{name:"slide-v"}},["team"===t.activeTab?a("div",["owner"===t.viewType?a("vue-disqus",{attrs:{shortname:t.shortname,identifier:t.identifier+"team","api-key":t.apiKey}}):t._e(),t._v(" "),"voter"===t.viewType?a("vue-disqus-static",{attrs:{shortname:t.shortname,identifier:t.identifier+"team","api-key":t.apiKey}}):t._e()],1):t._e()]),t._v(" "),a("transition",{attrs:{name:"slide-v"}},["voter"===t.activeTab?a("div",[a("vue-disqus",{attrs:{shortname:t.shortname,identifier:t.identifier+"voter","api-key":t.apiKey}})],1):t._e()])],1)])])},i=[],s={render:n,staticRenderFns:i};e.a=s},"8H+j":function(t,e){},"8Pi3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"disqus_thread"}})},i=[],s={render:n,staticRenderFns:i};e.a=s},"ADM/":function(t,e,a){"use strict";function n(t){a("01sb")}var i=a("MpLR"),s=a("8Pi3"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-772ddeb0",null);e.a=d.exports},AYsy:function(t,e,a){"use strict";var n=a("ADM/"),i=a("wpgm");e.a={name:"vue-comments",props:{shortname:{default:null},identifier:{default:null},apiKey:{default:null},viewType:{default:null}},data:function(){return{activeTab:"team"}},mounted:function(){},watch:{identifier:function(t){}},methods:{reset:function(){}},components:{vueDisqus:n.a,vueDisqusStatic:i.a}}},BsXp:function(t,e){},Em5T:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-input-wrapper",class:{hold:t.hold&&!t.focused&&!t.searchString}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{type:"search"},domProps:{value:t.searchString},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),t._v(" "),a("i",{staticClass:"search-icon"})])},i=[],s={render:n,staticRenderFns:i};e.a=s},EzRz:function(t,e,a){"use strict";function n(){function t(t){return a(t)}function e(t){var e,a,p,u,h,m,f,v;for(e=-1,a=t.length,p=c||0,u=l||0,u&&!p?p=Math.ceil(a/u):(p||(p=Math.ceil(Math.sqrt(a))),u||(u=Math.ceil(a/p))),r?(f.domain(i.o(p)).range(i.o(0,(n[0]+d[0])*p,n[0]+d[0])),v.domain(i.o(u)).range(i.o(0,(n[1]+d[1])*u,n[1]+d[1])),s[0]=o?f(p-1)+n[0]:f(p-1),s[1]=o?v(u-1)+n[1]:v(u-1)):o?(f=i.p(),v=i.p(),f.domain(i.o(p)).range([0,n[0]],d[0],0),v.domain(i.o(u)).range([0,n[1]],d[1],0),s[0]=f.bandwidth()-10,s[1]=v.bandwidth()-10):(f=i.q(),v=i.q(),f.domain(i.o(p)).range([0,n[0]]),v.domain(i.o(u)).range([0,n[1]]),s[0]=f(1),s[1]=v(1));++e<a;)h=e%p,m=Math.floor(e/p),t[e].x=f(h),t[e].y=v(m);return t}var a,n,s,r,o,d,c,l;return a=e,n=[1,1],s=[0,0],r=!1,o=!1,d=[0,0],t.size=function(e){return arguments.length?(s=[0,0],r=null==(n=e),t):r?s:n},t.nodeSize=function(e){return arguments.length?(s=[0,0],r=null!=(n=e),t):r?n:s},t.rows=function(e){return arguments.length?(l=e,t):l},t.cols=function(e){return arguments.length?(c=e,t):c},t.bands=function(){return o=!0,t},t.points=function(){return o=!1,t},t.padding=function(e){return arguments.length?(d=e,t):d},t}e.a=n;var i=a("vwbq")},HCTz:function(t,e,a){"use strict";var n=a("TCsi");e.a={name:"mainHeader",props:["d","searchString","viewType"],data:function(){return{buttons:[{ownerName:"Add Project",voterName:"Propose Project",class:"add-project",type:"project"},{ownerName:"Add Task",voterName:"Propose Task",class:"add-task",type:"task"}],hold:!0,shortProjectAddress:!0,shortVoterAddress:!0,projectIsVoted:!1}},methods:{search:function(t){this.$emit("search",t)},toggleVote:function(){this.projectIsVoted=!this.projectIsVoted,this.d.projectUpvotes+=this.projectIsVoted?1:-1,this.d.votesRemaining+=this.projectIsVoted?-1:1}},components:{SearchInput:n.a}}},"IBF+":function(t,e,a){"use strict";var n=a("JXWl");e.a={name:"newItem",props:["datum","people","neighbors"],data:function(){return{importanceLevels:["low","normal","high","critical"],importance:"low",assigned:{workers:[],managers:[]},showManagers:!1,showWorkers:!1,onDueDate:!1,onDependsOn:!1,peopleMapping:{task:"workers",project:"managers"},isRecurring:!1,recurringCompleted:!1}},methods:{addPerson:function(t){var e;e=this.peopleMapping[this.datum.type],this.datum[e]||this.$set(this.datum,e,[]),this.assigned[e].indexOf(t.id)&&this.datum[e].push(t.id),this.updatePeople()},removePerson:function(t){var e,a;e=this.peopleMapping[this.datum.type],a=this.datum[e].indexOf(t.id),this.datum[e].splice(a,1),this.updatePeople()},updatePeople:function(){var t=this,e=this.peopleMapping[this.datum.type];this.datum&&this.people[e]&&this.datum[e]?this.assigned[e]=this.people[e].filter(function(a){return t.datum[e].indexOf(a.id)>-1}):this.assigned[e]=[]},save:function(){this.recurringCompleted&&(this.datum.progress=1),this.$emit("save")},remove:function(){this.$emit("remove")},cancel:function(){this.$emit("cancel")},progressChanged:function(t){this.datum.progress=t},completeChanged:function(t){this.$emit("completeChanged",t)},init:function(){this.updatePeople(),this.$set(this.datum,"_dependencies",this.datum.dependencies||[]),this.isRecurring=this.datum.recurring,this.onDependsOn=!(!this.datum.dependencies||!this.datum.dependencies.length)}},watch:{datum:{handler:function(t,e){e&&e.id===t.id||this.init(),this.recurringCompleted=1===t.progress,this.updatePeople(),this.onDependsOn&&(this.datum._dependencies=this.datum.dependencies)},deep:!0},onDependsOn:function(t,e){t?this.$set(this.datum,"dependencies",this.datum._dependencies):this.$set(this.datum,"dependencies",[])},isRecurring:function(){this.$set(this.datum,"recurring",this.isRecurring)}},mounted:function(){this.init()},components:{progressSlider:n.a}}},IZOE:function(t,e){},JXWl:function(t,e,a){"use strict";function n(t){a("8H+j")}var i=a("QHsQ"),s=a("Xrb3"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-95f85038",null);e.a=d.exports},KOw9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header",on:{mouseover:function(e){t.hold=!1},mouseout:function(e){t.hold=!0}}},["voter"===t.viewType?a("div",{staticClass:"voter-info"}):t._e(),t._v(" "),a("div",{staticClass:"main-header"},[a("div",{staticClass:"project-info"},[a("span",{staticClass:"company-name"},[t._v(t._s(t.d.companyName))]),a("br"),t._v(" "),a("span",{class:{"short-address":t.shortProjectAddress}},[a("label",{staticClass:"header-fade"},[t._v("Project Address: ")]),t._v(" "),a("strong",{staticClass:"address",attrs:{title:t.d.projectAddress},on:{click:function(e){t.shortProjectAddress=!t.shortProjectAddress}}},[t._v(t._s(t._f("shorten")(t.d.projectAddress,t.shortProjectAddress?4:1/0,3)))])]),t._v(" "),a("div",{staticClass:"project-upvotes"},[a("label",{staticClass:"header-fade"},[t._v("Upvotes:")]),t._v(" "),a("strong",[t._v(t._s(t.d.projectUpvotes))]),t._v(" "),"voter"===t.viewType?a("span",[a("span",{staticClass:"vote-switcher",class:{voted:t.projectIsVoted},on:{click:function(e){t.toggleVote()}}},[a("span",{staticClass:"upvote-state"},[t._v("Upvote")]),t._v(" "),a("div",{staticClass:"voted-state"},[t._v("(Voted)")]),t._v(" "),a("div",{staticClass:"remove-vote"},[t._v("Remove Vote")])])]):t._e()])]),t._v(" "),a("div",{staticClass:"center"},[t.searchString?t._e():a("span",t._l(t.buttons,function(e){return a("div",{key:e.name,staticClass:"add-button",class:[e.class],on:{click:function(a){t.$emit("add-item",e)}}},[a("div",{staticClass:"icon"}),t._v(" "),a("div",{staticClass:"name header-fade"},[t._v(t._s("owner"===t.viewType?e.ownerName:e.voterName))])])})),t._v(" "),t.searchString?a("span",{staticClass:"search-text"},[t._v("Search")]):t._e()]),t._v(" "),a("div",[a("search-input",{attrs:{hold:t.hold},on:{search:t.search}}),a("br"),t._v(" "),"voter"===t.viewType?a("div",[a("label",{staticClass:"header-fade"},[t._v("My Address: ")]),a("strong",{staticClass:"address",attrs:{title:t.d.voterAddress},on:{click:function(e){t.shortVoterAddress=!t.shortVoterAddress}}},[t._v(t._s(t._f("shorten")(t.d.voterAddress,t.shortVoterAddress?4:1/0,3)))]),a("br"),t._v(" "),a("label",{staticClass:"header-fade"},[t._v("Votes Remaining: ")]),a("strong",[t._v(t._s(t.d.votesRemaining))])]):t._e()],1)])])},i=[],s={render:n,staticRenderFns:i};e.a=s},LTfg:function(t,e,a){"use strict";function n(t,e){var a,n;a=this,a._data=null,a._handler=e,a._flowerById={},a._nodesById={},a._glowById={},a._levelRadius=150,a._proposedRadius=270,a._proposedPlaceRadius=1.5,a._proposedTextRadius=a._proposedRadius,a._offset=[0,0],a._withProposed=!1,a._hideProposed=!1,a.focusId=null,a.itemOptions={task:{length:34,shadowRadius:17,height:5,spacing:50,textRadius:22,boundsRadius:17,textOffset:{x:0,y:-2.5}},project:{shadowRadius:17.5,length:20,spacing:80,textRadius:25,boundsRadius:20,textOffset:{x:0,y:-10}}},a.pointerOptions={width:16,height:21,animationOffsetY:-15},a.textOptions={paddingX:4,paddingY:0,cornerRadius:3,lineHeight:18},a.proposedArcOptions={offset:50,thickness:4},a.glowOptions={maxRadius:80,numLines:16,lineLength:12,distanceFade:.2,repeat:1,duration:1e3,nodeT:1.5},a.size=[1,1],a.breadcrumb=[],a.zoom=i.a().on("zoom",function(){a.zoomG.attr("transform",i.b.transform)}),a.container=i.c(t).append("div").attr("class","rpm-container").style("position","relative"),a.body=a.container.append("div").attr("class","rpm-body"),a.breadcrumbContainer=a.body.append("div").attr("class","breadcrumb-container"),a.svg=a.body.append("svg").attr("class","rpm-svg").attr("width","100%").attr("height","100%").style("width","100%").style("height","100%"),a.defs=a.svg.append("defs"),a.defs.append("filter").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%").attr("id","blur-filter").attr("color-interpolation-filters","sRGB").append("feGaussianBlur").attr("stdDeviation",4),a.defs.append("filter").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%").attr("id","shadow-filter").attr("color-interpolation-filters","sRGB").append("feGaussianBlur").attr("stdDeviation",8),a.gradients=[{id:"link-gradient-top",start:{color:"#000",opacity:.05},end:{color:"#000",opacity:.2},x1:"0%",y1:"100%",x2:"0%",y2:"0%"},{id:"link-gradient-bottom",start:{color:"#000",opacity:.05},end:{color:"#000",opacity:.2},x1:"0%",y1:"0%",x2:"0%",y2:"100%"},{id:"link-gradient-left",start:{color:"#000",opacity:.05},end:{color:"#000",opacity:.2},x1:"100%",y1:"0%",x2:"0%",y2:"0%"},{id:"link-gradient-right",start:{color:"#000",opacity:.05},end:{color:"#000",opacity:.2},x1:"0%",y1:"0%",x2:"100%",y2:"0%"},{id:"ellipse-gradient",start:{color:"#000",opacity:.08},end:{color:"#000",opacity:.06},x1:"0%",y1:"0%",x2:"0%",y2:"100%"}],n=a.defs.selectAll(".gradient").data(a.gradients),n.enter().append("linearGradient").attr("class","gradient").each(function(t){var e=i.c(this);e.attr("id",t.id).attr("x1",t.x1).attr("y1",t.y1).attr("x2",t.x2).attr("y2",t.y2),e.append("stop").attr("offset","0%").attr("stop-color",t.start.color).attr("stop-opacity",t.start.opacity),e.append("stop").attr("offset","100%").attr("stop-color",t.end.color).attr("stop-opacity",t.end.opacity)}),a.updateArrowHeads(),a.mainG=a.svg.append("g").attr("class","main"),a.centerSVG=a.mainG.append("svg").attr("class","center").attr("x","50%").attr("y","50%").style("overflow","visible").call(a.zoom),a.bgRect=a.centerSVG.append("rect").attr("fill","transparent").attr("width","100%").attr("height","100%").attr("x","-50%").attr("y","-50%"),a.zoomG=a.centerSVG.append("g").attr("class","zoom"),a.offsetG=a.zoomG.append("g").attr("class","offset"),a.isometric=a.offsetG.append("g").attr("class","isometric"),a.focus=a.offsetG.append("g").attr("class","focus"),a.links=a.offsetG.append("g").attr("class","links"),a.shadows=a.offsetG.append("g").attr("class","shadows"),a.nodes=a.offsetG.append("g").attr("class","nodes"),a.searchSVG=a.svg.append("svg").attr("width","100%").attr("height","100%"),a.searchSVG.append("rect").attr("fill","#fff").attr("width","100%").attr("height","100%").attr("x","0").attr("y","0"),a.searchG=a.searchSVG.append("g"),a.update()}e.a=n;var i=a("vwbq"),s=a("EzRz");n.prototype.addItem=function(t){var e,a,i;if(e=this,e.currentDatum){var s=void 0,r=void 0;s={name:e.getNewName((t.proposed?"Proposed ":"New ")+n.capitalize(t.type)),id:e.currentDatum.id+(t.proposed?"p":"")+(e.currentDatum.children?e.currentDatum.children.length:0)+(new Date).valueOf(),progress:0,importance:"normal",date:"",recurring:!1,notes:"",managers:[],workers:[],dependencies:[],people:[]};for(i in t)s[i]=t[i];e.addDraft(s),e._data?(e.currentDatum.data.children=e.currentDatum.data.children||[],e.currentDatum.data.children.push(s),e.currentDatum.data.draft&&(e.currentDatum.data.draft.children=e.currentDatum.data.draft.children||[],e.currentDatum.data.draft.children.push(s)),e.updateFlower(),r=e.getNodeById(e.activeId).children,a=r[r.length-1],e.callHandler("added",a),e.focusId=a.id,e.update(e.activeId,"newItemDraw")):(e._data=s,e.updateFlower(),e.callHandler("added",e.flower),e.focusId=e.flower.id,e.update(null,"newItemDraw"))}},n.prototype.removeItem=function(t){function e(n){if(n.children)for(var i=0;i<n.children.length;i++)n.children[i].id===t?(n.children.splice(i,1),n.draft&&(n.draft.children=n.children.slice()),a.update(n.id),a.callHandler("removed",{data:n})):e(n.children[i])}var a=this;a.focusId=null,a._data.id===t?(a._data=null,a.update(),a.callHandler("removed",{data:{data:{draft:null},empty:!0}})):e(a._data)},n.prototype.addDraft=function(t){var e,a;e={};for(a in t)"draft"!==a&&(e[a]=function(t){if(!Array.isArray(t))return t;for(var e=[],a=0;a<t.length;a++)e.push(t[a]);return e}(t[a]));t.draft=e},n.prototype.getNewName=function(t){var e,a,n;return e=this,a=new RegExp(t+"[\\s]*[\\d]*$"),n=e.flower.descendants().filter(function(t){return a.test(t.data.name)}),t+(n.length?" "+n.length:"")},n.prototype.refreshView=function(){this.update(this.activeId,"refresh")},n.prototype.callHandler=function(t,e){this._handler&&this._handler({type:t,data:e})},n.prototype.showProposed=function(t){return this._hideProposed=!t,this.refreshView(),!this._hideProposed},n.prototype.showCompleted=function(t){return this._showCompleted=t,this.refreshView(),this._showCompleted},n.prototype.update=function(t,e){var a,n;if(a=this,!a._data)return a.shadows.selectAll("*").transition().style("opacity",0).remove(),a.links.selectAll("*").transition().style("opacity",0).remove(),a.nodes.selectAll("*").transition().style("opacity",0).remove(),a.isometric.selectAll("*").transition().style("opacity",0).remove(),a.breadcrumbContainer.selectAll("*").transition().style("opacity",0).remove(),void(a.breadcrumb=[]);n=a.container.node().getBoundingClientRect(),a.size=[n.width,n.height],a.updateFlower(),a._searchString?(a.breadcrumbContainer.transition().style("opacity",0),a.svg.append(function(){return a.searchSVG.node()}),a.drawSearch()):(a.breadcrumbContainer.transition().style("opacity",1),a.searchSVG.transition().style("opacity",0).remove(),void 0!==t?a.drawNode(a.getNodeById(t)||a.flower,e):a.drawNode(a.flower,e))},n.prototype.focus=function(t){this.focusId=t},n.prototype.offset=function(t){return void 0!==t&&(this._offset=t,this.offsetG.transition().duration(500).attr("transform","translate("+[t[0],t[1]]+")")),this._offset},n.prototype.search=function(t){this._searchString!==t&&(this._searchString=t,this.update(this.activeId))},n.prototype.data=function(t){return t&&(this._data=t,this.update()),this._data},n.prototype.drawSearch=function(){function t(t){return"translate("+[t.x+l[0]/2,t.y+l[1]/2]+")"}if(this._data){var e,n,r,o,d,c,l,p,u;r=this,p=i.d(),n=[],r.searchSVG.attr("viewBox","0 0 "+r.size[0]+" "+r.size[1]).style("display","block").transition(p).style("opacity",1),e=new RegExp(r._searchString,"i"),u=r.flower.descendants().sort(function(t,e){return t.data.name.toLowerCase().localeCompare(e.data.name.toLowerCase())}),u.forEach(function(t){e.test(t.data.name)&&n.push({data:t.data})}),o=a.i(s.a)().bands().size([r.size[0],r.size[1]]).padding(10),l=o.nodeSize(),d=r.searchG.selectAll(".node").data(o(n),function(t){return t.data.id}),c=d.enter().append("g").attr("class","node").each(function(e){var a;a=i.c(this),a.attr("transform",t),r.addNodeAttributes(a,e,e.data),a.append("text").attr("class","item-name").attr("text-anchor","middle").attr("y",30).text(e.data.name),r.updateNode(a,e.data,0,e)}).on("click",function(t){r._searchString="",r.update(t.data.id)}),d.merge(c).each(function(e){var a;a=i.c(this),a.attr("transform",t),r.addNodeAttributes(a,e,e.data),a.transition(p).attrTween("item",function(){return function(t){r.updateNode(a,e.data,i.e(a.node()._t,1)(t),e)}})}),d.exit().remove()}},n.prototype.getFocusedDatum=function(){return this._flowerById[this.focusId]},n.prototype.drawNode=function(t,e){function a(t){var e,a;a={value:Math.PI,distance:1/0},e=[Math.PI/2,Math.PI,1.5*Math.PI];for(var n=0;n<e.length;n++)a.distance>Math.abs(t-e[n])&&(a.distance=Math.abs(t-e[n]),a.value=e[n]);return a.value}function s(t){return"translate("+[t.x,t.y]+")"}var r,o,d,c,l,p,u,h,m,f,v;d=this,d.updateBreadcrumb(t),d.activeId=t.id,m=d.currentDatum?d.currentDatum.depth-t.depth:0,d.currentDatum=t,u=30,c=i.d().duration(800),p=i.d().duration(700),l=i.d().delay(250).ease(i.f).duration(800),null===d.focusId&&(d.focusId=t.id),function(t){var e=i.h(d.centerSVG.node()),a=i.i.translate(-t.x*e.k,-t.y*e.k).scale(e.k);d.zoom.transform(d.centerSVG.transition(l),a)}(t),h=d._data?[t].concat(t.children||[]):[],r=d.nodes.selectAll(".node").data(h,function(t){return t.id}),o=r.enter().append("g"),o.style("opacity",0).each(function(t,e){var a,n;a=i.c(this),n=d.focusId===t.id||d.activeId===t.id?t.data.draft||t.data:t.data,d.addNodeAttributes(a,t,n),d.updateNode(a,n,0,t),a.append("g").attr("class","node-text").append("g").attr("class","lines-g").append("path"),a.attr("transform","translate("+t.x+", "+(t.y-m*u)+")"),d.updateText(a,t,n),d.updateTextPosition(a,n,t.id===d.activeId?Math.PI:t.angle)}).on("click",function(t,e){var a;a=t.id===d.activeId?t.parent||t:t,d.focusId=a.id,d.updateFlower(),d.drawNode("task"===a.data.type?d._flowerById[d.activeId]:a),d.callHandler("select",a)}),o.merge(r).each(function(t,e){if(!this._completed){var n,r,o;n=i.c(this),d._nodesById[t.id]=this,o=d.focusId===t.id&&t.data.draft,r=o?t.data.draft:t.data,d.addNodeAttributes(n,t,r),d.updateText(n,t,r,o),n.classed("draft",o),n.attr("data-focus",t.id===d.focusId?"true":null),n.select(".item-container").transition(c).tween("item",function(){return function(e){var s=void 0;s=t.id===d.activeId?2:1,d.updateNode(n,r,i.e(n.node()._t,1===r.progress?d.glowOptions.nodeT:s)(e),t),d.updateTextPosition(n,r,i.e(n.node()._textAngle,t.id===d.activeId?a(n.node()._textAngle):t.angle)(e))}}),n.transition(p).style("opacity",1).attr("transform",s),n.select(".item-name").text(r.name)}}),f=d.links.selectAll(".link").data(d.getDLinks(t),function(t){return t.source.id+"-"+t.target.id}),v=f.enter().append("line"),v.attr("class","link").each(function(t){i.c(this).attr("x1",t.cropped[0].x).attr("y1",t.cropped[0].y).attr("x2",t.cropped[0].x).attr("y2",t.cropped[0].y).style("opacity",0).attr("marker-end","url(#arrowhead-link)")}),f.merge(v).each(function(t){var e;e=Math.floor(t.cropped[0].x)===Math.floor(t.cropped[1].x)?t.cropped[0].y>t.cropped[1].y?"link-gradient-top":"link-gradient-bottom":(Math.floor(t.cropped[0].y),Math.floor(t.cropped[1].y),t.cropped[0].x>t.cropped[1].x?"link-gradient-left":"link-gradient-right"),d._nodesById[t.target.id]._completed||d._nodesById[t.source.id]._completed||i.c(this).attr("data-source",t.source.id).attr("data-target",t.target.id).transition(p).attr("x1",function(t){return t.cropped[0].x}).attr("y1",function(t){return t.cropped[0].y}).attr("x2",function(t){return t.cropped[1].x}).attr("y2",function(t){return t.cropped[1].y}).attr("stroke","url(#"+e+")").style("opacity",1)});var g=i.g(),y=d.isometric.selectAll(".proposed-arc").data(!d._hideProposed&&t.proposedChildren&&t.proposedChildren.length?[t]:[],function(t){return t.id}),_=y.enter().append("g").attr("class","proposed-arc");_.append("path").each(function(t){this._startAngle=t.proposedAngle.min+(t.proposedAngle.max-t.proposedAngle.min)/2,this._endAngle=t.proposedAngle.min+(t.proposedAngle.max-t.proposedAngle.min)/2,this._radius=t.mainRadius-d.proposedArcOptions.offset}),_.merge(y).each(function(e){var a,s,r;a=i.c(this),a.attr("transform","translate("+t.x+","+t.y+") scale(1, "+n.yScale+")"),s=a.select("path"),r=s.node(),s.transition(c).tween("item",function(){return function(a){var n=void 0,o=void 0,c=void 0,l=void 0;l=2*Math.PI/t.children.length/2,n=i.e(r._radius,e.mainRadius-d.proposedArcOptions.offset)(a),o=i.e(r._startAngle,e.proposedAngle.min-l)(a),c=i.e(r._endAngle,e.proposedAngle.max+l)(a),s.attr("d",g({outerRadius:n,innerRadius:n-d.proposedArcOptions.thickness,startAngle:o,endAngle:c,cornerRadius:d.proposedArcOptions.thickness/2})),r._radius=n,r._startAngle=o,r._endAngle=c}})}),y.exit().transition(p).style("opacity",0).remove(),f.exit().transition(p).style("opacity",0).remove(),r.exit().transition(p).attr("transform",function(t){return"translate("+t.x+", "+(t.y+m*u)+")"}).style("opacity",0).remove(),d.callHandler(e||"draw",t),d.callHandler("changedParental",t)},n.prototype.prepareItemToComplete=function(t,e){var a,n,s,r,o,d,c,l,p,u,h;a=this,n=a._nodesById[t],s=i.c(n),o=s.select(".shadow"),d=s.select(".reflection-g"),r=i.d().duration(800),h=s.select(".item"),h.transition(r).tween("prepareItemToComplete",function(){return p=n._t||0,u=n._itemY||0,function(t){c=i.e(p,e?a.glowOptions.nodeT:1)(t),l=e?t:1-t,a.updateNode(s,n._data,c,s.datum()),n._itemY=i.e(u,e?-7:0)(t),h.attr("transform","translate(0, "+n._itemY+")"),a.updateTextPosition(s,n._data,n._textAngle),o.style("opacity",.2*l),d.style("opacity",1-l)}})},n.prototype.completeItem=function(t){var e,a,n,s,r,o,d,c;e=this,d=i.j.overshoot(10),a=e._nodesById[t],a._completed=!0,n=i.c(a),c=n.datum(),s=n.select(".item"),n.transition().style("opacity",0),a._glowTransition=a._glowTransition||{},e.links.selectAll(".link[data-target="+t+"]").each(function(t){i.c(this).transition().ease(i.k).delay(200).duration(400).style("opacity",0)}),i.c(a._glowTransition).transition().duration(600).ease(i.l).tween("itemAnimation",function(){var t,r;return o=a._itemY||0,function(c){r=d(c),a._itemY=i.e(o,0)(r),t=.5+.5*Math.min(1,1-r),s.attr("transform","translate(0, "+a._itemY+") scale("+[t,t]+")"),n.style("opacity",1-c),e.updateTextPosition(n,a._data,a._textAngle)}}).on("end",function(){a._completed=!1,s.transition().attr("transform","scale(1, 1)"),c.data.recurring?(c.data.progress=0,this.focusId=t,e.update(e.activeId,"refreshRecurring")):(c.data.completed=!0,e.update(e.activeId))}).transition().ease(i.m).duration(e.glowOptions.duration).tween("tween",function(){return r=a._glowT||0,function(t){a._glowT=i.e(r,1)(t),e.updateGlow(c,a._glowT)}}).on("end",function(){a._glowT=0})},n.prototype.updateGlow=function(t,e){var a;a=this,a._glowById[t.id]=a._glowById[t.id]||a.isometric.append("g").attr("class","glow"),a._glowById[t.id].attr("data-importance",t.data.importance).attr("transform","translate("+[t.x,t.y]+") scale(1, "+n.yScale+")"),a.updateGlowLines(a._glowById[t.id],e)},n.prototype.updateGlowLines=function(t,e){var a,s,r;a=this,r=e%(1/a.glowOptions.repeat)/(1/a.glowOptions.repeat),r=e,t.style("opacity",1-r),s=t.selectAll(".glow-line").data(n.filledArray(a.glowOptions.numLines)),s.enter().append("line").attr("class","glow-line").merge(s).each(function(t,e){var s,o,d,c;c=e/a.glowOptions.numLines*Math.PI*2,s=i.c(this),o=n.rotZ(0,a.glowOptions.maxRadius*r,c),d=n.rotZ(0,Math.min(a.glowOptions.maxRadius,a.glowOptions.maxRadius*r+a.glowOptions.lineLength),c),s.attr("x1",o.x).attr("y1",o.y).attr("x2",d.x).attr("y2",d.y).style("opacity",1-a.glowOptions.distanceFade+(a.glowOptions.maxRadius+o.y)/(2*a.glowOptions.maxRadius)*a.glowOptions.distanceFade)}),s.exit().remove()},n.prototype.setFocus=function(t){var e;e=this,e.focusId!==t&&(i.c(e._nodesById[e.focusId]).attr("data-focus",null),i.c(e._nodesById[t]).attr("data-focus","true"),e.focusId=t)},n.prototype.addNodeAttributes=function(t,e,a){t.attr("class","node "+a.type+"-node"),t.attr("data-status",String(a.status)),t.attr("data-assigned","task"===a.type&&a.workers&&a.workers.length?"true":null),t.attr("data-importance",String(a.importance)),t.attr("data-empty",String(!e.data.children||!e.data.children.length)),t.attr("data-recurring",a.recurring?"true":null),t.classed("proposed",a.proposed)},n.getLinks=function(t){if(t.children){for(var e=[],a=0;a<t.children.length;a++)e.push({source:t,target:t.children[a]});return e}return[]},n.prototype.updateBreadcrumb=function(t){var e,a,n,i;a=this;for(var s=0;s<a.breadcrumb.length;s++)if(a.breadcrumb[s].id===t.id){e=s;break}void 0===e?a.breadcrumb.push(t):a.breadcrumb.splice(e+1),n=a.breadcrumbContainer.selectAll(".breadcrumb-item").data(a.breadcrumb),i=n.enter().append("div").attr("class","breadcrumb-item"),i.on("click",function(t){a.drawNode(a.getNodeById(t.id)||a.flower)}).style("opacity",0).transition().style("opacity",1),i.merge(n).text(function(t){return t.data.name}),n.exit().transition().style("opacity",0).remove()},n.prototype.updateText=function(t,e,a,s){var r,o,d,c,l,p,u,h,m,f,v,g,y;l=this,p=[],r=t.select(".node-text"),g=t.select(".lines-g"),u=[],m=(t.node()._textAngle||0)%360,h=m>Math.PI/2&&m<1.5*Math.PI,f=s&&h?l.textOptions.lineHeight:0,y=i.d().duration(500),o=[{text:a.name}],"project"===a.type&&o.push({text:Math.round(100*e.descendantsProgress)+"%"}),v=r.selectAll(".draft-line").data(s?[{}]:[]),v.enter().insert("text",":first-child").attr("class","draft-line").style("opacity",0).attr("transform","translate(0, 0)").merge(v).text("Draft").attr("text-anchor","middle").transition(y).attr("transform","translate(0, "+(h?0:-l.textOptions.lineHeight)+")").style("opacity",1),v.exit().transition(y).tween("textG",function(){return function(e){l.updateTextPosition(t,a,t.node()._textAngle||0)}}).attr("transform","translate(0, 0)").style("opacity",0).remove(),d=g.selectAll(".text-line").data(o),c=d.enter().append("g").attr("class","text-line").each(function(){i.c(this).append("text")}),g.transition(y).tween("textG",function(){var e,n;return e=i.c(this),n=e.node()._yOffset||0,function(s){e.attr("transform","translate(0, "+f*s+")"),e.node()._yOffset=i.e(n,f)(s),e.attr("transform","translate(0, "+e.node()._yOffset+")"),l.updateTextPosition(t,a,t.node()._textAngle||0)}}),c.merge(d).each(function(t,e){var a,n,s;a=i.c(this),n=a.select("text").text(t.text).attr("text-anchor","middle").attr("y",e*l.textOptions.lineHeight),s=n.node().getBBox(),s.x-=l.textOptions.paddingX,s.y-=l.textOptions.paddingY,s.width+=2*l.textOptions.paddingX,s.height+=2*l.textOptions.paddingY,p.push({box:s,d:t})}),c.merge(d).each(function(t,e){if(!p[e].d.noBg){var a,i,s,r,o;if(a=[l.textOptions.cornerRadius,l.textOptions.cornerRadius,l.textOptions.cornerRadius,l.textOptions.cornerRadius],i=p[e].box.x,s=p[e].box.y,r=p[e].box.width,o=p[e].box.height,e>0&&!p[e-1].d.noBg){p[e].box.width<p[e-1].box.width?(a[0]=0,a[3]=0):a[0]=a[3]=Math.min(l.textOptions.cornerRadius,Math.abs(p[e].box.width-p[e-1].box.width));var d=p[e-1].box.y+(p[e].box.y+p[e].box.height-p[e-1].box.y)/2-1;o-=d-s,s=d}e<p.length-1&&!p[e+1].d.noBg&&(p[e].box.width<p[e+1].box.width?(a[1]=0,a[2]=0):a[1]=a[2]=Math.min(l.textOptions.cornerRadius,Math.abs(p[e].box.width-p[e+1].box.width)/2),o=(p[e+1].box.y+p[e+1].box.height-s)/2),u.push(n.getRoundedRectData(i,s,r,o,a))}}),r.select("path").attr("d",u.join(" ")),d.exit().remove(),l.updateTextPosition(t,a,t.node()._textAngle||0)},n.prototype.updateTextPosition=function(t,e,a){var i,s,r,o,d,c,l,p;t.node()._textAngle=a,i=t.select(".node-text"),o=i.node().getBBox(),p=t.select(".item-container").node().getBBox(),s=p.width/2+5,c={x:p.x+p.width/2,y:p.y+p.height/2},r=n.rotZ(0,-s,a),d={x:r.x/s,y:r.y/s},r.y*=p.height/p.width,l={x:Math.sin((1-d.x)*Math.PI)*s*.3,y:Math.sin((1-d.y)*Math.PI)*s*.3},i.attr("transform","translate("+[r.x+o.width/2*d.x-o.x-o.width/2+c.x+l.x,r.y+o.height/2*d.y-o.y-o.height/2+c.y+l.y]+")")},n.prototype.updateNode=function(t,e,a,n){var i,s;i=this,s=t.select(".item"),s.node()?s.node()._type!==e.type&&s.remove():(i.addShadow(t,e),s=i.createItem(t.append("g").attr("class","item-container"),e),s.node()._type=e.type),t.node()._data=e,t.node()._t!==a&&(t.node()._t=a,"project"===e.type?i.updateProjectItem(t,e,a):"task"===e.type&&i.updateTaskItem(t,e,a))},n.prototype.createItem=function(t,e){return"project"===e.type?this.createProjectItem(t,e):"task"===e.type?this.createTaskItem(t,e):void 0},n.prototype.addShadow=function(t,e){var a,i;return a=this,i=t.append("g").attr("class","item-effect "+e.type+"-effect"),i.append("g").attr("class","reflection-g").attr("filter","url(#blur-filter)").append("ellipse").attr("rx",a.itemOptions[e.type].shadowRadius).attr("ry",a.itemOptions[e.type].shadowRadius*n.yScale).attr("class","reflection"),i.append("g").attr("class","shadow-g").attr("filter","url(#shadow-filter)").append("ellipse").attr("rx",a.itemOptions[e.type].shadowRadius).attr("ry",a.itemOptions[e.type].shadowRadius*n.yScale).attr("class","shadow"),t},n.prototype.createProjectItem=function(t){var e;return e=t.append("g").attr("class","item project-item"),e.append("path").attr("class","project-progress"),e.append("path").attr("class","project-fill"),e.append("path").attr("class","project-cap"),e.append("line").attr("class","project-center-line"),e},n.prototype.createTaskItem=function(t,e){var a,i,s;return a=t.append("g").attr("class","item task-item"),a.attr("data-recurring",e.recurring?"true":null),a.append("path").attr("class","task-body"),a.append("ellipse").attr("class","task-cap").attr("stroke-width",0),i=a.append("g").attr("class","icon-g").attr("transform","scale(1, "+n.yScale+")"),i.append("path").attr("class","icon task-check-icon"),s=i.append("g").attr("class","icon task-recurring-icon"),s.append("path"),s.append("path").attr("class","icon-arrow"),a},n.prototype.updateTaskItem=function(t,e,a){var i,s,r,o,d,c,l,p,u,h,m;r=this,i=r.itemOptions.task.length/2,s=r.itemOptions.task.height,l=.45,c=.5,h=[4,4],m=1.65*Math.PI,t.select(".task-cap").attr("rx",i).attr("ry",i*n.yScale).attr("cy",-s*a),t.select(".task-body").attr("d",["M",-i,-s*a,"L",-i,0,"A",i,i*n.yScale,0,1,0,i,0,"L",i,-s*a,"z"].join(" ")),t.select(".icon-g").attr("transform","translate("+[0,-s*a]+") scale(1, "+n.yScale+")"),p=t.select(".task-recurring-icon"),u=n.rotZ(0,-i,m),d=p.select("path").attr("d",["M",0,-i*c,"A",i*c,i*c,0,1,1,u.x*c,u.y*c].join(" ")),d.style("stroke-dasharray",d.node().getTotalLength()).style("stroke-dashoffset",d.node().getTotalLength()),o=t.select(".task-check-icon").attr("marker-end","none").attr("d",["M",.85*-i*l,.25*-i*l,"L",.6*-i*l,.55*i*l,.9*i*l,.5*-i*l].join(" ")),o.style("stroke-dasharray",o.node().getTotalLength()).style("stroke-dashoffset",o.node().getTotalLength()),t.select(".icon-arrow").attr("d",["M",0,-h[1]/2-i*c,"L",h[0],-i*c,0,h[1]/2-i*c,"z"].join(" "))},n.prototype.updateProjectItem=function(t,e,a){function n(t,e){return["M",-s/2,-t,"L",0,i/2-t,s/2,-t,s/2,-t-e,-s/2,-t-e,"z"].join(" ")}var i,s,r,o;o=this,i=o.itemOptions.project.length,s=1.732050808*i,r=0,t.select(".project-progress").attr("d",n(0,i*r*a)),t.select(".project-fill").attr("d",n(i*r*a,i*a-i*r*a)),t.select(".project-cap").attr("d",function(t){return["M",-s/2,-t,0,i/2-t,s/2,-t,0,-t-i/2,"z"].join(" ")}(i*a)).attr("class","project-cap"),t.select(".project-center-line").attr("x1",0).attr("y1",i/2).attr("x2",0).attr("y2",-i*a+i/2)},n.prototype.updateArrowHeads=function(){var t,e,a;e=this,a=[6,4],t=e.defs.selectAll(".arrowhead").data([{name:"link"}]),t.enter().append("marker").attr("id",function(t){return"arrowhead-"+t.name}).attr("viewBox","0,0 "+a).attr("orient","auto").attr("refY",a[1]/2).attr("markerUnits","strokeWidth").attr("markerWidth",a[0]).attr("markerHeight",a[1]).append("path").attr("d","M 0 0 L "+a[0]+" "+a[1]/2+" L 0 "+a[1]+" z").attr("fill",e.gradients[0].end.color).attr("fill-opacity",e.gradients[0].end.opacity),t.exit().remove()},n.prototype.getDLinks=function(t){if(t.children){var e=void 0,a=void 0,i=void 0,s=void 0,r=void 0,o=void 0,d=void 0,c=void 0,l=void 0,p=void 0;e=[],a=this;for(var u=0;u<t.children.length;u++)if(s=a.focusId===t.children[u].id&&t.children[u].data.draft,r=s?t.children[u].data.draft:t.children[u].data,i=r.dependencies)for(var h=0;h<i.length;h++)d=t.children[u],(c=a._flowerById[i[h]])&&!c.data.recurring&&(l=a.getNodeBox(d),p=n.rectIntersect([c.x,c.y,d.x,d.y],l),o=n.cropLine(c,p,0,10),o[1].x+=.001,o[1].y+=.001,e.push({source:d,target:c,cropped:o}));return e}return[]},n.prototype.updateFlower=function(){function t(t,e,i){for(var s=void 0,o=void 0,d=0;d<t.length;d++)s=t[d],s.angle=d/t.length*Math.PI*2+Math.PI/4,o=n.rotZ(0,-i,s.angle),s.x=e.x+o.x,s.y=e.y+o.y*n.yScale,s.data.id=s.data.id||s.data.type+String(r++)+(s.data.proposed?"p":"")+d,s.id=s.data.id,s.data.draft&&(s.data.draft.id=s.data.id),s.data.proposed&&(e.withProposed=!0),a._flowerById[s.id]=s}function e(t){for(var e=0,n=0;n<t.length;n++)e+=a.itemOptions[t[n].data.type].length+a.itemOptions[t[n].data.type].spacing;return e}var a,s,r,o,d;return a=this,s=i.n(a._data),r=0,a._flowerById={},a._withProposed=!1,o=[0,0],a.flower={},d=0,a._data?(s.eachBefore(function(n){if(n.parent||(n.x=o[0],n.y=o[1],n.data.id=n.data.id||n.data.type+String(r++),n.id=n.data.id,n.angle=Math.PI,n.data.draft&&(n.data.draft.id=n.data.id),n.data.proposed&&(n.withProposed=!0),a._flowerById[n.id]=n),n.children&&n.children.length){n.proposedChildren=n.children.filter(function(t){return t.data.proposed}),n.completedChildren=n.children.filter(function(t){return t.data.completed}),n.proposedAngle={min:1/0,max:-1/0},n.children=n.children.filter(function(t){return!t.data.proposed&&(!t.data.completed||a._showCompleted)}),a._hideProposed||(n.children=n.children.concat(n.proposedChildren)),d=e(n.children),n.mainRadius=Math.max(a._levelRadius,d/Math.PI/2),n.proposedRadius=n.mainRadius+a._proposedRadius-a._levelRadius,t(n.children,n,n.mainRadius);for(var i=0;i<n.proposedChildren.length;i++)n.proposedAngle.min=Math.min(n.proposedAngle.min,n.proposedChildren[i].angle),n.proposedAngle.max=Math.max(n.proposedAngle.max,n.proposedChildren[i].angle)}}),s.eachAfter(function(t){if(t.tasks={total:0,totalProgress:0},t.children&&t.children.length)for(var e=0;e<t.children.length;e++){var a=t.children[e].data;"task"===a.type?(t.tasks.total++,t.tasks.totalProgress+=a.progress||0):"project"===a.type&&(t.tasks.total+=t.children[e].tasks.total,t.tasks.totalProgress+=t.children[e].tasks.totalProgress)}t.descendantsProgress=t.tasks.total?t.tasks.totalProgress/t.tasks.total:0}),a.flower=s,s):{}},n.prototype.addDraftLabel=function(t){var e,a,n,i;a=[76,28],n=[15,7],i=-10,e=t.append("g").attr("class","draft-g"),e.append("rect").attr("x",-a[0]/2).attr("y",-n[1]-a[1]+i).attr("width",a[0]).attr("height",a[1]).attr("rx",a[1]/2).attr("ry",a[1]/2),e.append("text").attr("y",-n[1]-a[1]/2+i).attr("text-anchor","middle").attr("dominant-baseline","central").text("Draft"),e.append("path").attr("d",["M",0,i,-n[0]/2,-n[1]-1+i,n[0]/2,-n[1]-1+i,"z"].join(" "))},n.prototype.getNodeById=function(t,e){return this._flowerById[t]},n.yScale=.7071067812,n.rotZ=function(t,e,a){var n=Math.cos(a),i=Math.sin(a);return{x:t*n-e*i,y:t*i+e*n}},n.capitalize=function(t){return t?t[0].toUpperCase()+t.substr(1):t},n.cropLine=function(t,e,a,n){var i,s,r,o,d;return o=e.x-t.x,d=e.y-t.y,i=Math.sqrt(o*o+d*d),s={x:t.x+(e.x-t.x)*a/i,y:t.y+(e.y-t.y)*a/i},r={x:t.x+(e.x-t.x)*(1-n/i),y:t.y+(e.y-t.y)*(1-n/i)},[s,r]},n.getLineLength=function(t,e,a,n){return Math.sqrt(Math.pow(a-t,2)+Math.pow(n-e,2))},n.setLineLength=function(t,e,a,i,s){var r,o;return r=n.getLineLength(t,e,a,i),o=s/r,[t,e,t+(a-t)*o,e+(i-e)*o]},n.rectIntersect=function(t,e){var a,i,s,r,o;for(i=[[e.x,e.y,e.x+e.width,e.y],[e.x+e.width,e.y,e.x+e.width,e.y+e.height],[e.x+e.width,e.y+e.height,e.x,e.y+e.height],[e.x,e.y+e.height,e.x,e.y]],o={l:1/0,pt:null},a=0;a<i.length;a++)(r=n.lineIntersect(t[0],t[1],t[2],t[3],i[a][0],i[a][1],i[a][2],i[a][3]))&&r.seg1&&r.seg2&&(s=n.getLineLength(t[0],t[1],r.x,r.y))<o.l&&(o.l=s,o.pt=r);return o.pt},n.lineIntersect=function(t,e,a,n,i,s,r,o){var d,c,l;return 0===(l=(o-s)*(a-t)-(r-i)*(n-e))?null:(d=((r-i)*(e-s)-(o-s)*(t-i))/l,c=((a-t)*(e-s)-(n-e)*(t-i))/l,{x:t+d*(a-t),y:e+d*(n-e),seg1:d>=0&&d<=1,seg2:c>=0&&c<=1})},n.prototype.getNodeBox=function(t){var e;if(e=this,"task"===t.data.type)return{x:-e.itemOptions.task.length/2+t.x,y:-e.itemOptions.task.length/2*n.yScale-e.itemOptions.task.height+t.y,width:e.itemOptions.task.length,height:e.itemOptions.task.length*n.yScale+e.itemOptions.task.height};var a=1.732050808*e.itemOptions.project.length;return{x:-a/2+t.x,y:1.5*-e.itemOptions.project.length+t.y,width:a,height:2*e.itemOptions.project.length}},n.getNearestPointInPerimeter=function(t,e,a){function n(t,e,a){return Math.max(e,Math.min(a,t))}var i,s,r,o,d,c,l;return i=a.x+a.width,s=a.y+a.height,t=n(t,a.x,i),e=n(e,a.y,s),r=Math.abs(t-a.x),o=Math.abs(t-i),d=Math.abs(e-a.y),c=Math.abs(e-s),l=Math.min(r,o,d,c),l===d?[t,a.y]:l===c?[t,s]:l===r?[a.x,e]:[i,e]},n.getRoundedRectData=function(t,e,a,n,i){function s(t,e,a,n,i,s,r){return[t,",",e," ",a," ",n,",",i," ",s,",",r].join("")}var r,o,d,c,l;return r=[],o=i[0],d=i[1],c=i[2],l=i[3],r.push("M"+(t+a/2)+","+e),r.push("H"+(t+a-o)),o>0&&r.push("A"+s(o,o,0,0,1,t+a,e+o)),r.push("V"+(e+n-d)),d>0&&r.push("A"+s(d,d,0,0,1,t+a-d,e+n)),r.push("H"+(t+c)),c>0&&r.push("A"+s(c,c,0,0,1,t+0,e+n-c)),r.push("V"+(e+l)),l>0&&r.push("A"+s(l,l,0,0,1,t+l,e+0)),r.push("Z"),r.join(" ")},n.filledArray=function(t,e){for(var a=[],n=0;n<t;n++)a.push(e);return a}},M93x:function(t,e,a){"use strict";function n(t){a("0fZ4")}var i=a("xJD8"),s=a("x19R"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,null,null);e.a=d.exports},Mp08:function(t,e,a){"use strict";function n(t){a("pYZ1")}var i=a("AYsy"),s=a("7xfZ"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-419d481c",null);e.a=d.exports},MpLR:function(t,e,a){"use strict";e.a={name:"vue-disqus",props:{shortname:{type:String,required:!0},identifier:{type:String,required:!1},url:{type:String,required:!1},title:{type:String,required:!1},remote_auth_s3:{type:String,required:!1},api_key:{type:String,required:!1},sso_config:{type:Object,required:!1}},mounted:function(){this.reset()},beforeDestroy:function(){this.$el.id=null},watch:{identifier:{handler:function(){this.reset()},deep:!0}},methods:{reset:function(){var t,e;t=this.identifier,e="http://example.com/#!id"+t;var a=function(){this.page.identifier=t,this.page.url=e};window.DISQUS?setTimeout(function(){window.DISQUS.reset({reload:!0,config:a})}):this.init(a)},init:function(t){var e=this;window.disqus_config=t,setTimeout(function(){var t=void 0,a=void 0,n=void 0;t=document,a=t.createElement("script"),a.type="text/javascript",a.async=!0,a.setAttribute("id","embed-disqus"),a.setAttribute("data-timestamp",+new Date),a.src="//"+e.shortname+".disqus.com/embed.js",n=t.head||t.body,n.appendChild(a)})}}}},MzId:function(t,e,a){"use strict";e.a={name:"static-post",props:["post"],data:function(){return{}},mounted:function(){this.load()},watch:{identifier:function(){this.load()}},methods:{load:function(){}}}},NE38:function(t,e,a){"use strict";function n(t){a("2zlQ")}var i=a("+QWM"),s=a("nYHo"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-0b772878",null);e.a=d.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("M93x"),s=a("YaEn");n.a.config.productionTip=!1,n.a.filter("capitalize",function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}),n.a.filter("round",function(t){return Math.round(parseFloat(t))}),n.a.filter("shorten",function(t,e,a){if(t.length>e+a+3){var n=new RegExp("(.{"+e+"}).*(.{"+a+"})");return t.replace(n,"$1...$2")}return t}),new n.a({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})},Q4NS:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-form buttons-zone"},[a("transition",{attrs:{name:"overlay-fade"}},[t.showManagers?a("div",{staticClass:"overlay"},[a("div",{staticClass:"managers people"},[a("ul",t._l(t.people.managers,function(e){return a("li",{on:{click:function(a){t.addPerson(e),t.showManagers=!1}}},[t._v(t._s(e.name))])}))])]):t._e(),t._v(" "),t.showWorkers?a("div",{staticClass:"overlay"},[a("div",{staticClass:"workers people"},[a("ul",t._l(t.people.workers,function(e){return a("li",{on:{click:function(a){t.addPerson(e),t.showWorkers=!1}}},[t._v(t._s(e.name))])}))])]):t._e()]),t._v(" "),a("div",{staticClass:"info-form"},[a("div",{staticClass:"section"},[a("label",{staticClass:"section-label"},[t._v(t._s(t._f("capitalize")(t.datum.type))+" Name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.datum.name,expression:"datum.name"}],attrs:{type:"text"},domProps:{value:t.datum.name},on:{input:function(e){e.target.composing||t.$set(t.datum,"name",e.target.value)}}})]),t._v(" "),"task"===t.datum.type?a("div",{staticClass:"section"},[a("label",{staticClass:"section-label"},[t._v("Progress:")]),t._v(" "),t.datum.recurring?t._e():a("progress-slider",{attrs:{value:t.datum.progress},on:{changed:t.progressChanged,completeChanged:t.completeChanged}}),t._v(" "),t.datum.recurring?a("div",{staticClass:"recurring-progress"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringCompleted,expression:"recurringCompleted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.recurringCompleted)?t._i(t.recurringCompleted,null)>-1:t.recurringCompleted},on:{change:function(e){var a=t.recurringCompleted,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.recurringCompleted=a.concat([null])):s>-1&&(t.recurringCompleted=a.slice(0,s).concat(a.slice(s+1)))}else t.recurringCompleted=i}}}),t._v(" Completed")])]):t._e()],1):t._e(),t._v(" "),"project"===t.datum.type?a("div",{staticClass:"section managers people"},[a("label",{staticClass:"section-label"},[t._v("Manager(s):")]),t._v(" "),a("div",{staticClass:"list"},[t._l(t.assigned.managers,function(e){return a("div",{staticClass:"item",attrs:{title:e.name}},[a("img",{attrs:{src:"static/images/"+e.portrait}}),t._v(" "),a("div",{staticClass:"minus-button",on:{click:function(a){t.removePerson(e)}}})])}),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"plus-button",on:{click:function(e){t.showManagers=!0}}},[a("div",{staticClass:"plus-icon"})])])],2)]):t._e(),t._v(" "),"task"===t.datum.type?a("div",{staticClass:"section workers people"},[a("label",{staticClass:"section-label"},[t._v("Worker(s):")]),t._v(" "),a("div",{staticClass:"list"},[t._l(t.assigned.workers,function(e){return a("div",{staticClass:"item",attrs:{title:e.name}},[a("img",{attrs:{src:"static/images/"+e.portrait}}),t._v(" "),a("div",{staticClass:"minus-button",on:{click:function(a){t.removePerson(e)}}})])}),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"plus-button",on:{click:function(e){t.showWorkers=!0}}},[a("div",{staticClass:"plus-icon"})])])],2)]):t._e(),t._v(" "),a("div",{staticClass:"section importance"},[a("label",{staticClass:"section-label"},[t._v("Importance:")]),t._v(" "),a("div",{staticClass:"table"},t._l(t.importanceLevels,function(e){return a("div",{staticClass:"cell",class:[e,{selected:e===t.datum.importance}],on:{click:function(a){t.datum.importance=e}}},[a("i",{staticClass:"radio"}),a("br"),t._v("\n                "+t._s(t._f("capitalize")(e))+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"section"},[a("label",{staticClass:"section-label"},[t._v("Notes:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.datum.notes,expression:"datum.notes"}],domProps:{value:t.datum.notes},on:{input:function(e){e.target.composing||t.$set(t.datum,"notes",e.target.value)}}})]),t._v(" "),"task"===t.datum.type?a("div",{staticClass:"section recurring"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isRecurring,expression:"isRecurring"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isRecurring)?t._i(t.isRecurring,null)>-1:t.isRecurring},on:{change:function(e){var a=t.isRecurring,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.isRecurring=a.concat([null])):s>-1&&(t.isRecurring=a.slice(0,s).concat(a.slice(s+1)))}else t.isRecurring=i}}}),t._v(" Recurring\n        ")])]):t._e(),t._v(" "),a("div",{staticClass:"section"},[a("label",{staticClass:"section-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.onDueDate,expression:"onDueDate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.onDueDate)?t._i(t.onDueDate,null)>-1:t.onDueDate},on:{change:function(e){var a=t.onDueDate,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.onDueDate=a.concat([null])):s>-1&&(t.onDueDate=a.slice(0,s).concat(a.slice(s+1)))}else t.onDueDate=i}}}),t._v(" Due Date")]),t._v(" "),t.onDueDate?a("input",{directives:[{name:"model",rawName:"v-model",value:t.datum.date,expression:"datum.date"}],attrs:{type:"text"},domProps:{value:t.datum.date},on:{input:function(e){e.target.composing||t.$set(t.datum,"date",e.target.value)}}}):t._e()]),t._v(" "),a("div",{staticClass:"section depends"},[a("label",{staticClass:"section-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.onDependsOn,expression:"onDependsOn"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.onDependsOn)?t._i(t.onDependsOn,null)>-1:t.onDependsOn},on:{change:function(e){var a=t.onDependsOn,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.onDependsOn=a.concat([null])):s>-1&&(t.onDependsOn=a.slice(0,s).concat(a.slice(s+1)))}else t.onDependsOn=i}}}),t._v(" Depends On")]),t._v(" "),t.onDependsOn&&t.neighbors.length>0?a("ul",t._l(t.neighbors,function(e){return e.id!==t.datum.id?a("li",{class:{"depends-disabled":e.recurring}},[a("label",[e.recurring?a("div",{staticClass:"recurring-icon"}):t._e(),e.recurring?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.datum.dependencies,expression:"datum.dependencies"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.datum.dependencies)?t._i(t.datum.dependencies,e.id)>-1:t.datum.dependencies},on:{change:function(a){var n=t.datum.dependencies,i=a.target,s=!!i.checked;if(Array.isArray(n)){var r=e.id,o=t._i(n,r);i.checked?o<0&&(t.datum.dependencies=n.concat([r])):o>-1&&(t.datum.dependencies=n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.datum,"dependencies",s)}}}),t._v(" "+t._s(e.name))])]):t._e()})):t._e(),t._v(" "),t.onDependsOn&&t.neighbors.length<=1?a("div",{staticClass:"info"},[t._v("\n          Requires more than one project or task on level of this "+t._s(t.datum.type)+" to create dependency\n        ")]):t._e()]),t._v(" "),a("div",{staticClass:"section"},[a("button",{attrs:{type:"submit"},on:{click:t.save}},[t._v("Save")])]),t._v(" "),a("div",{staticClass:"full-width"},[a("div",{staticClass:"info-buttons-wrapper"},[a("div",{staticClass:"cancel-button info-button",on:{click:function(e){t.cancel()}}},[t._m(0),a("span",[t._v("Cancel")])]),a("div",{staticClass:"remove-button info-button",on:{click:function(e){t.remove()}}},[t._m(1),a("span",[t._v("Remove")])])])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon cancel-icon"},[a("i",{staticClass:"bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon remove-icon"},[a("i",{staticClass:"bar"})])}],s={render:n,staticRenderFns:i};e.a=s},QHsQ:function(t,e,a){"use strict";e.a={name:"progressSlider",props:["value"],data:function(){return{pointer:null,track:null,downEvent:null,clickOffset:null,innerValue:null}},methods:{mouseDown:function(t){var e=this;this.downEvent=t,this.clickOffset=t.clientX-this.pointer.getBoundingClientRect().left,document.body.addEventListener("mousemove",this.moveHandler),document.body.style["user-select"]="none",document.body.style["-webkit-user-select"]="none",document.body.addEventListener("mouseup",function(){document.body.removeEventListener("mousemove",e.moveHandler),document.body.style["user-select"]="auto",document.body.style["-webkit-user-select"]="auto",e.$emit("changed",e.innerValue)})},moveHandler:function(t){this.innerValue=Math.round(100*Math.min(1,Math.max(0,t.clientX-this.clickOffset-this.$el.getBoundingClientRect().left)/(this.$el.clientWidth-this.pointer.clientWidth)))/100,this.updatePointerPosition()},updatePointerPosition:function(){var t=this.innerValue*(this.$el.clientWidth-this.pointer.clientWidth);this.pointer.style.marginLeft=t+"px",this.track.style.width=t+this.pointer.clientWidth/2+"px"}},mounted:function(){this.pointer=this.$el.querySelectorAll(".pointer")[0],this.track=this.$el.querySelectorAll(".track")[0],this.innerValue=this.value,this.updatePointerPosition()},watch:{innerValue:{handler:function(t,e){1!==t&&1!==e||this.$emit("completeChanged",t)}},value:{handler:function(t){this.innerValue=t,this.updatePointerPosition()}}}}},QXL7:function(t,e){},RcE2:function(t,e){},SRY1:function(t,e){},TCsi:function(t,e,a){"use strict";function n(t){a("fMmR")}var i=a("cKKq"),s=a("Em5T"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-5d889978",null);e.a=d.exports},Tnv9:function(t,e,a){"use strict";var n=a("LTfg"),i=a("mtWM"),s=a.n(i);e.a={name:"rpmDiagram",props:["nodesData","search","offset","showProposed","showCompleted","viewType"],data:function(){return{node:{draft:null},diagram:null}},watch:{nodesData:function(t){this.diagram.data(t)},search:function(t){this.diagram.search(t)},offset:function(t){this.diagram.offset(t)},showProposed:function(t){this.updateProposedVisibility()},showCompleted:function(t){this.updateCompletedVisibility()},viewType:function(){this.updateProposedVisibility()}},mounted:function(){var t=this;this.diagram=new n.a(this.$el,this.diagramHandler),this.loadData(),this.$parent.$on("addItem",function(e){t.diagram.addItem(e)}),this.$parent.$on("saveItem",function(e){1===e.data.progress&&t.diagram.completeItem(e.id)}),this.$parent.$on("changedDatum",function(e){t.diagram.refreshView()}),this.$parent.$on("editNode",function(e){t.diagram.addDraft(t.diagram.getFocusedDatum().data),t.diagram.refreshView()}),this.$parent.$on("removeNode",function(e){t.diagram.removeItem(t.diagram.focusId)}),this.$parent.$on("cancelNewNode",function(e){t.diagram.focusId=t.diagram.activeId,t.diagram.update(t.diagram.activeId)}),this.$parent.$on("completeChanged",function(e){t.diagram.prepareItemToComplete(t.diagram.focusId,1===e)})},methods:{updateProposedVisibility:function(){this.diagram.showProposed(this.showProposed)},updateCompletedVisibility:function(){this.diagram.showCompleted(this.showCompleted)},loadData:function(){var t=this;this.dataUrl&&s.a.get(this.dataUrl).then(function(e){t.diagram.data(e.data.nodes)})},diagramHandler:function(t){this.node=t.data,this.$emit(t.type,t)},setData:function(t){this.diagram.data(t)}}}},"U/fF":function(t,e,a){"use strict";function n(t){a("iY0w")}var i=a("Tnv9"),s=a("1iJ1"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-35dc0c1b",null);e.a=d.exports},UkB0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"disqus-static"},[a("transition",{attrs:{name:"slide-h"}},[!t.loading&&t.hierarchy.length>0?a("div",t._l(t.hierarchy,function(t){return a("static-post",{key:t.id,attrs:{post:t}})})):t._e()]),t._v(" "),a("transition",{attrs:{name:"slide-h"}},[t.loading||0!==t.hierarchy.length?t._e():a("div",{staticClass:"info"},[t._v("\n      No comments yet\n    ")])]),t._v(" "),a("transition",{attrs:{name:"fade-long"}},[t.loading?a("div",{staticClass:"spinner"}):t._e()])],1)},i=[],s={render:n,staticRenderFns:i};e.a=s},Xrb3:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress-slider",class:{completed:1===t.innerValue,start:0===t.innerValue}},[t._m(0),t._v(" "),a("div",{staticClass:"start-track"}),t._v(" "),a("div",{staticClass:"pointer",on:{mousedown:t.mouseDown}},[t._v(t._s(t._f("round")(100*t.innerValue))+"%")])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"track"},[a("div",[a("span",[t._v("Completed")])])])}],s={render:n,staticRenderFns:i};e.a=s},YVYO:function(t,e,a){"use strict";function n(t){a("BsXp"),a("QXL7")}var i=a("MzId"),s=a("oOdq"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-df598bb2",null);e.a=d.exports},YaEn:function(t,e,a){"use strict";var n=a("7+uW"),i=a("/ocq"),s=a("wdbO");n.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"RPM",component:s.a}]})},ZfSd:function(t,e){},"c/mz":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"disqus-count-wrapper"},[a("span",{staticClass:"disqus-count"},[t._v(t._s(t.loading?"":t.count))])])},i=[],s={render:n,staticRenderFns:i};e.a=s},cKKq:function(t,e,a){"use strict";e.a={name:"searchInput",props:["hold"],data:function(){return{focused:!1,searchString:""}},watch:{searchString:{handler:function(t){this.$emit("search",t)}}}}},d74w:function(t,e,a){"use strict";var n=a("l3WQ"),i=a("teIl"),s=a("U/fF"),r=a("NE38"),o=a("mtWM"),d=a.n(o),c=a("Mp08");e.a={name:"hello",data:function(){return{datum:{data:{draft:null},parent:{data:{}}},parentalDatum:{proposedChildren:[],data:{draft:null},parent:{data:{}}},headerData:{companyName:"RecPM.io",projectAddress:"0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe",voterAddress:"0x281055afc982d96fab65b3a49cac8b878184cb16",projectUpvotes:42,votesRemaining:5},rpmData:{},searchString:"",viewType:"owner",disqusName:"rpm-3",showComments:!1,showProposed:!0,showCompleted:!1,disqusApiKey:"T7XbPlHEDeyXie9yImwHqxqLgUS0JZiWqFC0NHp2KMZHPcBvRj6rVdjmjnQRfBel"}},methods:{addItem:function(t){var e=this;"voter"===this.viewType&&(this.showProposed=!0),setTimeout(function(){e.$emit("addItem",{type:t.type,proposed:"voter"===e.viewType,new:!0})})},applyDatum:function(t){this.datum=t.data,this.searchString=""},applyParentalDatum:function(t){this.parentalDatum=t.data},search:function(t){this.searchString=t},loadData:function(t){var e=this;t&&d.a.get(t).then(function(t){e.rpmData=t.data})},save:function(){for(var t in this.datum.data.draft)this.datum.data[t]=this.datum.data.draft[t];this.datum.data.new=!1,this.datum.data.draft=null,this.$emit("saveItem",this.datum)},commentsHandler:function(t){this.showComments=!this.showComments},editNode:function(){this.$set(this.datum.data,"draft",this.getDraft(this.datum.data))},cancelEdit:function(){this.datum.data.new?this.$emit("cancelNewNode"):this.$set(this.datum.data,"draft",null)},removeNode:function(){this.$emit("removeNode",this.datum)},getDraft:function(t){var e,a;e={};for(a in t)"draft"!==a&&(e[a]=function(t){if(!Array.isArray(t))return t;for(var e=[],a=0;a<t.length;a++)e.push(t[a]);return e}(t[a]));return e},completeChanged:function(t){this.$emit("completeChanged",t)}},watch:{datum:{handler:function(t,e){t===e&&this.$emit("changedDatum",this.datum)},deep:!0}},components:{newItem:n.a,mainHeader:i.a,rpmDiagram:s.a,nodeInfo:r.a,vueComments:c.a},mounted:function(){this.loadData("static/data.json")}}},dvhD:function(t,e){},fMmR:function(t,e){},iY0w:function(t,e){},l3WQ:function(t,e,a){"use strict";function n(t){a("ZfSd")}var i=a("IBF+"),s=a("Q4NS"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-67a5c54a",null);e.a=d.exports},nYHo:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rpm-info buttons-zone"},[a("div",{staticClass:"section"},[a("h2",[t._v(t._s(t.datum.data.name))]),t._v(" "),a("ul",{staticClass:"top-ul"},[a("li",[a("label",[t._v(t._s(t._f("capitalize")(t.peopleMapping[t.datum.data.type])))]),a("br"),t.assigned[t.peopleMapping[t.datum.data.type]].length?t._e():a("span",{staticClass:"not-filled"}),t._v(" "),a("span",[t.assigned[t.peopleMapping[t.datum.data.type]].length?a("ul",t._l(t.assigned[t.peopleMapping[t.datum.data.type]],function(e){return a("li",[t._v(t._s(e.name))])})):t._e()])]),t._v(" "),a("li",[a("label",[t._v("Progress")]),a("br"),a("span",[t._v(t._s(t._f("round")(100*("project"===t.datum.data.type?t.datum.descendantsProgress:t.datum.data.progress||0)))+"%")])]),t._v(" "),a("li",[a("label",[t._v("Importance")]),a("br"),a("span",{class:t.datum.data.importance},[t._v(t._s(t._f("capitalize")(t.datum.data.importance)))])]),t._v(" "),a("li",[a("label",[t._v("Notes")]),a("br"),t.datum.data.notes?t._e():a("span",{staticClass:"not-filled"}),a("span",[t._v(t._s(t.datum.data.notes))])]),t._v(" "),a("li",[a("label",[t._v("Recurring")]),a("br"),a("span",[t._v(t._s(t.datum.data.recurring?"Yes":"No"))])]),t._v(" "),a("li",[a("label",[t._v("Due Date")]),a("br"),t.datum.data.date?t._e():a("span",{staticClass:"not-filled"}),a("span",[t._v(t._s(t.datum.data.date))])]),t._v(" "),a("li",[a("label",[t._v("Dependencies")]),a("br"),t.assigned.dependencies.length?t._e():a("span",{staticClass:"not-filled"}),t._v(" "),t.assigned.dependencies.length?a("span",[a("ul",t._l(t.assigned.dependencies,function(e){return a("li",[t._v(t._s(e.name))])}))]):t._e()])])]),t._v(" "),a("span",{staticClass:"rpm-button comments-button",class:{active:t.showComments},on:{click:t.commentsClick}},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"full-width"},[a("div",{staticClass:"info-buttons-wrapper"},[a("div",{staticClass:"info-button edit-button",on:{click:function(e){t.edit()}}},[t._m(2),a("span",[t._v("Edit")])]),a("div",{staticClass:"info-button remove-button",on:{click:function(e){t.remove()}}},[t._m(3),a("span",[t._v("Remove")])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"count-wrapper"},[a("span",{staticClass:"count"}),t._v(" "),a("span",{staticClass:"no-count"},[t._v("Comments")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comments-icon"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon edit-icon"},[a("i",{staticClass:"bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon remove-icon"},[a("i",{staticClass:"bar"})])}],s={render:n,staticRenderFns:i};e.a=s},oOdq:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"static-post"},[a("div",{staticClass:"post-avatar",style:{backgroundImage:"url("+t.post.author.avatar.large.permalink+")"}}),t._v(" "),a("div",{staticClass:"post-body"},[a("strong",[t._v(t._s(t.post.author.name))]),a("br"),t._v(" "),a("span",{staticClass:"message",domProps:{innerHTML:t._s(t.post.message)}})]),t._v(" "),t._l(t.post.children,function(t){return a("div",[a("static-post",{attrs:{post:t}})],1)})],2)},i=[],s={render:n,staticRenderFns:i};e.a=s},pYZ1:function(t,e){},r3PM:function(t,e,a){"use strict";var n=a("mtWM"),i=a.n(n),s=a("hU7x"),r=a.n(s),o=a("YVYO");e.a={name:"vue-disqus-static",props:{shortname:{default:null},identifier:{default:null},apiKey:{default:null}},data:function(){return{posts:[],hierarchy:[],loading:!0,requestsByID:{}}},mounted:function(){this.load()},watch:{identifier:function(){this.load()}},methods:{load:function(){var t=this;if(null!==this.apiKey&&null!==this.shortname&&null!==this.identifier){this.loading=!0,this.requestsByID[this.identifier]={requests:0,responses:[]};var e=void 0,a=void 0,n=void 0;e=function(e){for(var n=0;n<e.data.response.length;n++)e.data.response[n].identifiers.indexOf(t.identifier)>-1&&(t.requestsByID[t.identifier].requests++,r()(["http://disqus.com/api/3.0/posts/list.json?api_key=",t.apiKey,"&thread=",e.data.response[n].id].join(""),null,function(e,n){e?console.log(e.message):(t.requestsByID[t.identifier].responses.push(n),t.requestsByID[t.identifier].requests===t.requestsByID[t.identifier].responses.length&&a(t.requestsByID[t.identifier].responses))}));t.requestsByID[t.identifier].requests||(t.loading=!1,t.hierarchy=[])},a=function(e){var a=void 0,n=void 0,i=void 0;for(t.posts=[],a={},i=[],n=0;n<e.length;n++)t.posts=t.posts.concat(e[n].response);for(n=0;n<t.posts.length;n++)a[t.posts[n].id]=t.posts[n];for(n=0;n<t.posts.length;n++)null!==t.posts[n].parent?(a[t.posts[n].parent].children||(a[t.posts[n].parent].children=[]),a[t.posts[n].parent].children.push(t.posts[n])):i.push(t.posts[n]);t.hierarchy=i,t.loading=!1},n="https://disqus.com/api/3.0/threads/list.json?api_key="+this.apiKey+"&forum="+this.shortname+"&thread=ident:"+this.identifier,i.a.get(n).then(e)}}},components:{axios:i.a,staticPost:o.a,jsonp:r.a}}},teIl:function(t,e,a){"use strict";function n(t){a("yPFw")}var i=a("HCTz"),s=a("KOw9"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-2d9aabeb",null);e.a=d.exports},wdbO:function(t,e,a){"use strict";function n(t){a("IZOE"),a("RcE2")}var i=a("d74w"),s=a("6BZM"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-016b7016",null);e.a=d.exports},wpgm:function(t,e,a){"use strict";function n(t){a("0mW4"),a("SRY1")}var i=a("r3PM"),s=a("UkB0"),r=a("VU/8"),o=n,d=r(i.a,s.a,!1,o,"data-v-6ac046c7",null);e.a=d.exports},x19R:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],s={render:n,staticRenderFns:i};e.a=s},x1TA:function(t,e,a){"use strict";var n=a("mtWM"),i=a.n(n);e.a={name:"vue-disqus-count",props:{shortname:{default:null},identifier:{default:null},apiKey:{default:null}},data:function(){return{loading:!0,intervalId:null,timeoutId:null,count:null}},mounted:function(){this.reset()},watch:{identifier:function(t){this.reset()}},methods:{reset:function(){var t=this;if(null!==this.apiKey&&null!==this.shortname&&null!==this.identifier){var e=void 0,a=void 0,n=void 0;this.loading=!0,a=function(e){for(var a=[],s=0;s<e.data.response.length;s++)a.push(i.a.get(["http://disqus.com/api/3.0/posts/list.json?api_key=",t.apiKey,"&thread=",e.data.response[s].id].join("")));i.a.all(a).then(function(e){t.loading=!1,n(e)})},n=function(e){var a=void 0,n=void 0;for(n=0,a=0;a<e.length;a++)n+=e[a].data.response.length;t.count=n},e="https://disqus.com/api/3.0/threads/list.json?api_key="+this.apiKey+"&forum="+this.shortname+"&thread=ident:"+this.identifier,i.a.get(e).then(a)}}},components:{axios:i.a}}},xJD8:function(t,e,a){"use strict";e.a={name:"app"}},yPFw:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.02586755f059627512e5.js.map